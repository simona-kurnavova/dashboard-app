<div class="card card-body">
  <div class="container">
    <div class="row">
      <div class="col-lg-6 col-12" style="padding-bottom: 10px">
        Mode: &nbsp; &nbsp;
        <div class="btn-group">
          <label class="btn btn-secondary btn-sm waves-light" [(ngModel)]="state" mdbRadio="normal" mdbRippleRadius>
            Normal
          </label>
          <label class="btn btn-secondary btn-sm waves-light" [(ngModel)]="state" mdbRadio="edit" mdbRippleRadius>
            Edit
          </label>
        </div>
      </div>

      <div class="col-lg-6 col-12" align="right">

        <div *ngIf="isState('edit')" class="row">
          <div class="col" align="right">
            <div class="btn-group">
              <button (click)="addWidget()" class="btn btn-blue-grey btn-sm">Add Widget</button>
              <button (click)="cancelEdit()" class="btn btn-blue-grey btn-sm">Cancel</button>
              <button (click)="saveEdit()" class="btn btn-blue-grey btn-sm">Done</button>
            </div>
          </div>
        </div>

      </div>

    </div>
  </div>

    <hr>

  <alert [alerts]="alerts"></alert>

  <div class="container" *ngIf="isState('normal')">

      <div *ngFor="let row of widgetList; let i = index;">
        <div class="row justify-content-{{ widgetJustify }}">
          <div *ngFor="let col of widgetList[i]; let j = index;" class="col-lg-{{widgetList[i][j].size_x}} widget-column">
              <widget [state]="state" [widget]="widgetList[i][j]"></widget>
          </div>
        </div>
      </div>

      <div align="center" *ngIf="widgetList.length == 0 && alerts.length == 0">
        <i>No widgets on the dashboard</i>
      </div>
    </div>

  <div class="container" *ngIf="isState('edit')">
    <div *ngFor="let row of widgetListEdit; let i = index;">
      <div class="row justify-content-{{ widgetJustify }}" dnd-sortable-container [sortableData]="widgetListEdit[i]">
        <div *ngFor="let col of widgetListEdit[i]; let j = index;" class="col-lg-{{widgetListEdit[i][j].size_x}} widget-column">
          <div *ngIf="!widgetListEdit[i][j].deleted" class="card" dnd-sortable [sortableIndex]="j">
            <widget [state]="state" [widget]="widgetListEdit[i][j]"></widget>
          </div>
        </div>
      </div>
    </div>
  </div>

  <hr>

<div class="container" *ngIf="isState('edit')">
  <div class="row">

    <div class="col-3">
      Justify widgets:
    </div>
      <fieldset class="form-group">
        <div class="col">
          <input  style="padding-right: 100px" class="form-check-input" [(ngModel)]="widgetJustify" type="radio" name="gridRadios" id="gridRadios1"
                 value="center" checked> Center
        </div>
        <div class="col">
          <input style="padding-right: 10px;" class="form-check-input" [(ngModel)]="widgetJustify" type="radio" name="gridRadios" id="gridRadios2"
                 value=""> Left
        </div>
        <div class="col">
         <input class="form-check-input" [(ngModel)]="widgetJustify" type="radio" name="gridRadios" id="gridRadios3"
                 value="end"> Right
        </div>
      </fieldset>
  </div>
</div>
</div>

<style>

  .widget-column {
    padding-bottom: 10px;
  }

</style>

